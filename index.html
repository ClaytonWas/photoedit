<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <title>PhotoEdits</title>
</head>
<body>
    <!-- Taskbar -->
    <div class="taskbar">
        <img id="icon" src="/images/icon.png">
        <div class="taskbarItem">
            <span>File</span>
            <ul class="taskbarItemDropdown">
                <li id="openFile">Open</li>
                <input id="uploadFile" type="file" accept="image/*" style="display: none;">
                <li id="saveAction">Save</li>
                <li id="undoAction" class="isDisabled" aria-disabled="true">Undo</li>
                <li id="redoAction" class="isDisabled" aria-disabled="true">Redo</li>
            </ul>
        </div>

        <div class="taskbarItem">
            <span>Image</span>
            <ul class="taskbarItemDropdown">
                <li class="taskbarItemDropdownContainsSubmenu" id="rotateImage">Rotate ▶
                    <ul class="taskbarItemDropdownIsSubmenu">
                        <li id="rotateCW90">Rotate 90°</li>
                        <li id="rotateCCW90">Rotate -90°</li>
                    </ul>
                </li>
                <li class="taskbarItemDropdownContainsSubmenu" id="cropImageMenu">Crop ▶
                    <ul class="taskbarItemDropdownIsSubmenu">
                        <li id="menuCursorCrop">Cursor Crop</li>
                        <li id="menuManualCrop">Manual Crop</li>
                    </ul>
                </li>
                <li id="resetImage">Reset Image</li>
            </ul>
        </div>

        <div class="taskbarItem">
            <span>Filter</span>
            <ul class="taskbarItemDropdown">
                <li id="greyscale">Greyscale</li>
                <li id="sepia">Sepia</li>
                <li id="filmEffects">Film Effects</li>
                <li id="paintedStylization">Painted</li>
                <li id="hsvAdjust">HSV Adjust</li>
            </ul>
        </div>

        <div class="taskbarItem">
            <span>Visualizations</span>
            <ul class="taskbarItemDropdown">
                <li class="taskbarItemDropdownContainsSubmenu">Spatial Geometry ▶
                    <ul class="taskbarItemDropdownIsSubmenu">
                        <li id="pointsInSpace">Points In Space</li>
                        <li id="vectorsInSpace">Vectors In Space</li>
                    </ul>
                </li>
                <li class="taskbarItemDropdownContainsSubmenu">Edge Detection ▶
                    <ul class="taskbarItemDropdownIsSubmenu">
                        <li class="taskbarItemDropdownContainsSubmenu">Sobel ▶
                            <ul class="taskbarItemDropdownIsSubmenu">
                                <li id="sobelEdges">Regular</li>
                                <li id="sobelEdgesColouredDirections">Coloured Directions</li>
                            </ul>
                        </li>
                        <li class="taskbarItemDropdownContainsSubmenu">Prewire ▶
                            <ul class="taskbarItemDropdownIsSubmenu">
                                <li id="prewireEdges">Regular</li>
                                <li id="prewireEdgesColouredDirections">Coloured Directions</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>

        <div id="renderStatus" class="taskbarStatus" role="status" aria-live="polite">
            <div class="spinner" aria-hidden="true"></div>
            <span>Ready</span>
        </div>
    </div>
    <!-- /Taskbar -->

    <!-- Taskbar Modules -->
    <!-- Wrapper For Image And Layer Modules-->
    <div class="wrapImageAndLayerModules">
        <!-- Image Module -->
        <div class="imageModule">
            <!-- Image Viewing Module -->
            <div class="imageViewingModule">
                <div id="imageCanvasDiv">
                    <canvas id="imageCanvas"></canvas>
                </div>
            </div>
            <!-- /Image Viewing Module -->
            <!-- Modules That Provide Image Context And Data -->
            <div class="contextModules">
                <div class="imageDataModule">
                    <div class="imageDataModuleHeader">
                        <p>Current Image Data</p>
                    </div>
                    <div class="imageDataModuleRow">
                        <span class="sectionLabel" id="titleNameModified"></span>
                        <input class="sectionValue imageNameInput" type="text" id="imageNameInput" placeholder="Image name" autocomplete="off" spellcheck="false" />
                    </div>
                    <div class="imageDataModuleRow dimensionRow">
                        <span class="sectionLabel" id="titleDimensionsModified"></span>
                        <div class="singleLineControls dimensionControls">
                            <input type="number" id="imageWidthInput" min="1" placeholder="Width" />
                            <span>x</span>
                            <input type="number" id="imageHeightInput" min="1" placeholder="Height" />
                            <button id="doubleDimensions" title="Double dimensions">2×</button>
                            <button id="halveDimensions" title="Halve dimensions">½×</button>
                            <button id="applyDimensions">Apply</button>
                            <label class="checkboxLabel"><input type="checkbox" id="constrainedCheckbox"> Constrain</label>
                        </div>
                    </div>
                    <div class="imageDataModuleRow">
                        <span class="sectionLabel" id="titleExtensionModified"></span>
                        <select id="imageExtensionSelector">
                            <option value="png">PNG (.png)</option>
                            <option value="jpeg">JPEG (.jpeg)</option>
                            <option value="webp">WEBP (.webp)</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- /Modules That Provide Image Context And Data -->
        </div>

        <!-- Layers Module -->
        <div class="layersModule">
            <div id="currentLayerSelector">
                <!-- This area should be dynamically populated with a filters parameters for quick edits. -->
            </div>
            <div id="layersSelector">
                <ul id="layersList">
                    <!-- Layers added here. -->
                </ul>
            </div>
            <div id="layersControls">
                <div class="layerReorderGroup">
                    <button id="moveLayerUp" type="button" title="Move layer up" aria-label="Move layer up">▲</button>
                    <button id="moveLayerDown" type="button" title="Move layer down" aria-label="Move layer down">▼</button>
                </div>
                <button id="deleteLayer">Delete Layer</button>
            </div>
        </div>
        <!-- /Layers Module -->

    </div>
    <!-- /Wrapper For Image And Layer Modules-->

    <div id="cropPanel" class="floatingPanel hidden">
        <div class="floatingPanelHeader">
            <h3>Crop & Selection</h3>
            <button id="closeCropPanel" aria-label="Close crop panel">✕</button>
        </div>
        <div class="floatingPanelBody">
            <div class="floatingPanelRow">
                <label>Start X
                    <input type="number" id="cropStartWidth" placeholder="Start X" />
                </label>
                <label>Start Y
                    <input type="number" id="cropStartHeight" placeholder="Start Y" />
                </label>
            </div>
            <div class="floatingPanelRow">
                <label>End X
                    <input type="number" id="cropEndWidth" placeholder="End X" />
                </label>
                <label>End Y
                    <input type="number" id="cropEndHeight" placeholder="End Y" />
                </label>
            </div>
            <div class="panelActions">
                <button id="cursorCrop">Use Cursor</button>
                <button id="applyCrop">Apply Crop</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>

